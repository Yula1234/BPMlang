include "std"
include "fsys"
include "std_string"
include "lexer"

proc main(int argc, char** argv) -> int {
    let src = FILE::open(std::nth_argv(argv, 1), "r").read_to_string();
    let lx  = Lexer::new(src);

    while (not(lx.eof())) {
        let tok = lx.next_token();
        if (tok.len == 0) break; // EOF
        std::print(tok);
        std::print("\n");
    }

    return 0;
}